<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Plugins</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-8.8.3: The GHC API</span><ul class="links" id="page-menu"><li><a href="src/Plugins.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Plugins</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Plugins</a><ul><li><a href="#g:2">Recompilation checking</a></li></ul></li><li><a href="#g:3">Plugin types</a><ul><li><a href="#g:4">Frontend plugins</a></li><li><a href="#g:5">Core plugins</a></li><li><a href="#g:6">Typechecker plugins</a></li><li><a href="#g:7">Source plugins</a></li></ul></li><li><a href="#g:8">Internal</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Plugin">Plugin</a> = <a href="#v:Plugin">Plugin</a> {<ul class="subs"><li><a href="#v:installCoreToDos">installCoreToDos</a> :: <a href="Plugins.html#t:CorePlugin" title="Plugins">CorePlugin</a></li><li><a href="#v:tcPlugin">tcPlugin</a> :: <a href="Plugins.html#t:TcPlugin" title="Plugins">TcPlugin</a></li><li><a href="#v:pluginRecompile">pluginRecompile</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a></li><li><a href="#v:parsedResultAction">parsedResultAction</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="HscTypes.html#t:ModSummary" title="HscTypes">ModSummary</a> -&gt; <a href="HscTypes.html#t:HsParsedModule" title="HscTypes">HsParsedModule</a> -&gt; <a href="HscTypes.html#t:Hsc" title="HscTypes">Hsc</a> <a href="HscTypes.html#t:HsParsedModule" title="HscTypes">HsParsedModule</a></li><li><a href="#v:renamedResultAction">renamedResultAction</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a> -&gt; <a href="HsDecls.html#t:HsGroup" title="HsDecls">HsGroup</a> <a href="HsExtension.html#t:GhcRn" title="HsExtension">GhcRn</a> -&gt; <a href="TcRnTypes.html#t:TcM" title="TcRnTypes">TcM</a> (<a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a>, <a href="HsDecls.html#t:HsGroup" title="HsDecls">HsGroup</a> <a href="HsExtension.html#t:GhcRn" title="HsExtension">GhcRn</a>)</li><li><a href="#v:typeCheckResultAction">typeCheckResultAction</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="HscTypes.html#t:ModSummary" title="HscTypes">ModSummary</a> -&gt; <a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a> -&gt; <a href="TcRnTypes.html#t:TcM" title="TcRnTypes">TcM</a> <a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a></li><li><a href="#v:spliceRunAction">spliceRunAction</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="HsExpr.html#t:LHsExpr" title="HsExpr">LHsExpr</a> <a href="HsExtension.html#t:GhcTc" title="HsExtension">GhcTc</a> -&gt; <a href="TcRnTypes.html#t:TcM" title="TcRnTypes">TcM</a> (<a href="HsExpr.html#t:LHsExpr" title="HsExpr">LHsExpr</a> <a href="HsExtension.html#t:GhcTc" title="HsExtension">GhcTc</a>)</li><li><a href="#v:interfaceLoadAction">interfaceLoadAction</a> :: <span class="keyword">forall</span> lcl. [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="HscTypes.html#t:ModIface" title="HscTypes">ModIface</a> -&gt; <a href="TcRnTypes.html#t:IfM" title="TcRnTypes">IfM</a> lcl <a href="HscTypes.html#t:ModIface" title="HscTypes">ModIface</a></li></ul>}</li><li class="src short"><a href="#v:defaultPlugin">defaultPlugin</a> :: <a href="Plugins.html#t:Plugin" title="Plugins">Plugin</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CommandLineOption">CommandLineOption</a> = <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:purePlugin">purePlugin</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a></li><li class="src short"><a href="#v:impurePlugin">impurePlugin</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a></li><li class="src short"><a href="#v:flagRecompile">flagRecompile</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:PluginRecompile">PluginRecompile</a><ul class="subs"><li>= <a href="#v:ForceRecompile">ForceRecompile</a></li><li>| <a href="#v:NoForceRecompile">NoForceRecompile</a></li><li>| <a href="#v:MaybeRecompile">MaybeRecompile</a> <a href="Fingerprint.html#t:Fingerprint" title="Fingerprint">Fingerprint</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:FrontendPlugin">FrontendPlugin</a> = <a href="#v:FrontendPlugin">FrontendPlugin</a> {<ul class="subs"><li><a href="#v:frontend">frontend</a> :: <a href="Plugins.html#t:FrontendPluginAction" title="Plugins">FrontendPluginAction</a></li></ul>}</li><li class="src short"><a href="#v:defaultFrontendPlugin">defaultFrontendPlugin</a> :: <a href="Plugins.html#t:FrontendPlugin" title="Plugins">FrontendPlugin</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:FrontendPluginAction">FrontendPluginAction</a> = [<a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a>] -&gt; [(<a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a>, <a href="../base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="DriverPhases.html#t:Phase" title="DriverPhases">Phase</a>)] -&gt; <a href="GhcMonad.html#t:Ghc" title="GhcMonad">Ghc</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:CorePlugin">CorePlugin</a> = [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; [<a href="CoreMonad.html#t:CoreToDo" title="CoreMonad">CoreToDo</a>] -&gt; <a href="CoreMonad.html#t:CoreM" title="CoreMonad">CoreM</a> [<a href="CoreMonad.html#t:CoreToDo" title="CoreMonad">CoreToDo</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:TcPlugin">TcPlugin</a> = [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="../base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="TcRnTypes.html#t:TcPlugin" title="TcRnTypes">TcPlugin</a></li><li class="src short"><a href="#v:keepRenamedSource">keepRenamedSource</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a> -&gt; <a href="HsDecls.html#t:HsGroup" title="HsDecls">HsGroup</a> <a href="HsExtension.html#t:GhcRn" title="HsExtension">GhcRn</a> -&gt; <a href="TcRnTypes.html#t:TcM" title="TcRnTypes">TcM</a> (<a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a>, <a href="HsDecls.html#t:HsGroup" title="HsDecls">HsGroup</a> <a href="HsExtension.html#t:GhcRn" title="HsExtension">GhcRn</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:PluginWithArgs">PluginWithArgs</a> = <a href="#v:PluginWithArgs">PluginWithArgs</a> {<ul class="subs"><li><a href="#v:paPlugin">paPlugin</a> :: <a href="Plugins.html#t:Plugin" title="Plugins">Plugin</a></li><li><a href="#v:paArguments">paArguments</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>]</li></ul>}</li><li class="src short"><a href="#v:plugins">plugins</a> :: <a href="DynFlags.html#t:DynFlags" title="DynFlags">DynFlags</a> -&gt; [<a href="Plugins.html#t:PluginWithArgs" title="Plugins">PluginWithArgs</a>]</li><li class="src short"><a href="#v:pluginRecompile-39-">pluginRecompile'</a> :: <a href="Plugins.html#t:PluginWithArgs" title="Plugins">PluginWithArgs</a> -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:LoadedPlugin">LoadedPlugin</a> = <a href="#v:LoadedPlugin">LoadedPlugin</a> {<ul class="subs"><li><a href="#v:lpPlugin">lpPlugin</a> :: <a href="Plugins.html#t:PluginWithArgs" title="Plugins">PluginWithArgs</a></li><li><a href="#v:lpModule">lpModule</a> :: <a href="HscTypes.html#t:ModIface" title="HscTypes">ModIface</a></li></ul>}</li><li class="src short"><a href="#v:lpModuleName">lpModuleName</a> :: <a href="Plugins.html#t:LoadedPlugin" title="Plugins">LoadedPlugin</a> -&gt; <a href="Module.html#t:ModuleName" title="Module">ModuleName</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:StaticPlugin">StaticPlugin</a> = <a href="#v:StaticPlugin">StaticPlugin</a> {<ul class="subs"><li><a href="#v:spPlugin">spPlugin</a> :: <a href="Plugins.html#t:PluginWithArgs" title="Plugins">PluginWithArgs</a></li></ul>}</li><li class="src short"><a href="#v:mapPlugins">mapPlugins</a> :: <a href="DynFlags.html#t:DynFlags" title="DynFlags">DynFlags</a> -&gt; (<a href="Plugins.html#t:Plugin" title="Plugins">Plugin</a> -&gt; [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; a) -&gt; [a]</li><li class="src short"><a href="#v:withPlugins">withPlugins</a> :: <a href="../base-4.13.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="DynFlags.html#t:DynFlags" title="DynFlags">DynFlags</a> -&gt; PluginOperation m a -&gt; a -&gt; m a</li><li class="src short"><a href="#v:withPlugins_">withPlugins_</a> :: <a href="../base-4.13.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="DynFlags.html#t:DynFlags" title="DynFlags">DynFlags</a> -&gt; ConstPluginOperation m a -&gt; a -&gt; m ()</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Plugins</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Plugin" class="def">Plugin</a> <a href="src/Plugins.html#Plugin" class="link">Source</a> <a href="#t:Plugin" class="selflink">#</a></p><div class="doc"><p><code><a href="Plugins.html#t:Plugin" title="Plugins">Plugin</a></code> is the compiler plugin data type. Try to avoid
 constructing one of these directly, and just modify some fields of
 <code><a href="Plugins.html#v:defaultPlugin" title="Plugins">defaultPlugin</a></code> instead: this is to try and preserve source-code
 compatibility when we add fields to this.</p><p>Nonetheless, this API is preliminary and highly likely to change in
 the future.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Plugin" class="def">Plugin</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:installCoreToDos" class="def">installCoreToDos</a> :: <a href="Plugins.html#t:CorePlugin" title="Plugins">CorePlugin</a></dfn><div class="doc"><p>Modify the Core pipeline that will be used for compilation.
 This is called as the Core pipeline is built for every module
 being compiled, and plugins get the opportunity to modify the
 pipeline in a nondeterministic order.</p></div></li><li><dfn class="src"><a id="v:tcPlugin" class="def">tcPlugin</a> :: <a href="Plugins.html#t:TcPlugin" title="Plugins">TcPlugin</a></dfn><div class="doc"><p>An optional typechecker plugin, which may modify the
 behaviour of the constraint solver.</p></div></li><li><dfn class="src"><a id="v:pluginRecompile" class="def">pluginRecompile</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a></dfn><div class="doc"><p>Specify how the plugin should affect recompilation.</p></div></li><li><dfn class="src"><a id="v:parsedResultAction" class="def">parsedResultAction</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="HscTypes.html#t:ModSummary" title="HscTypes">ModSummary</a> -&gt; <a href="HscTypes.html#t:HsParsedModule" title="HscTypes">HsParsedModule</a> -&gt; <a href="HscTypes.html#t:Hsc" title="HscTypes">Hsc</a> <a href="HscTypes.html#t:HsParsedModule" title="HscTypes">HsParsedModule</a></dfn><div class="doc"><p>Modify the module when it is parsed. This is called by
 HscMain when the parsing is successful.</p></div></li><li><dfn class="src"><a id="v:renamedResultAction" class="def">renamedResultAction</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a> -&gt; <a href="HsDecls.html#t:HsGroup" title="HsDecls">HsGroup</a> <a href="HsExtension.html#t:GhcRn" title="HsExtension">GhcRn</a> -&gt; <a href="TcRnTypes.html#t:TcM" title="TcRnTypes">TcM</a> (<a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a>, <a href="HsDecls.html#t:HsGroup" title="HsDecls">HsGroup</a> <a href="HsExtension.html#t:GhcRn" title="HsExtension">GhcRn</a>)</dfn><div class="doc"><p>Modify each group after it is renamed. This is called after each
 <code><a href="HsDecls.html#t:HsGroup" title="HsDecls">HsGroup</a></code> has been renamed.</p></div></li><li><dfn class="src"><a id="v:typeCheckResultAction" class="def">typeCheckResultAction</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="HscTypes.html#t:ModSummary" title="HscTypes">ModSummary</a> -&gt; <a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a> -&gt; <a href="TcRnTypes.html#t:TcM" title="TcRnTypes">TcM</a> <a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a></dfn><div class="doc"><p>Modify the module when it is type checked. This is called add the
 very end of typechecking.</p></div></li><li><dfn class="src"><a id="v:spliceRunAction" class="def">spliceRunAction</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="HsExpr.html#t:LHsExpr" title="HsExpr">LHsExpr</a> <a href="HsExtension.html#t:GhcTc" title="HsExtension">GhcTc</a> -&gt; <a href="TcRnTypes.html#t:TcM" title="TcRnTypes">TcM</a> (<a href="HsExpr.html#t:LHsExpr" title="HsExpr">LHsExpr</a> <a href="HsExtension.html#t:GhcTc" title="HsExtension">GhcTc</a>)</dfn><div class="doc"><p>Modify the TH splice or quasiqoute before it is run.</p></div></li><li><dfn class="src"><a id="v:interfaceLoadAction" class="def">interfaceLoadAction</a> :: <span class="keyword">forall</span> lcl. [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="HscTypes.html#t:ModIface" title="HscTypes">ModIface</a> -&gt; <a href="TcRnTypes.html#t:IfM" title="TcRnTypes">IfM</a> lcl <a href="HscTypes.html#t:ModIface" title="HscTypes">ModIface</a></dfn><div class="doc"><p>Modify an interface that have been loaded. This is called by
 LoadIface when an interface is successfully loaded. Not applied to
 the loading of the plugin interface. Tools that rely on information from
 modules other than the currently compiled one should implement this
 function.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:defaultPlugin" class="def">defaultPlugin</a> :: <a href="Plugins.html#t:Plugin" title="Plugins">Plugin</a> <a href="src/Plugins.html#defaultPlugin" class="link">Source</a> <a href="#v:defaultPlugin" class="selflink">#</a></p><div class="doc"><p>Default plugin: does nothing at all! For compatibility reasons
 you should base all your plugin definitions on this default value.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CommandLineOption" class="def">CommandLineOption</a> = <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Plugins.html#CommandLineOption" class="link">Source</a> <a href="#t:CommandLineOption" class="selflink">#</a></p><div class="doc"><p>Command line options gathered from the -PModule.Name:stuff syntax
 are given to you as this type</p></div></div><a href="#g:2" id="g:2"><h2>Recompilation checking</h2></a><div class="top"><p class="src"><a id="v:purePlugin" class="def">purePlugin</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> <a href="src/Plugins.html#purePlugin" class="link">Source</a> <a href="#v:purePlugin" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:impurePlugin" class="def">impurePlugin</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> <a href="src/Plugins.html#impurePlugin" class="link">Source</a> <a href="#v:impurePlugin" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:flagRecompile" class="def">flagRecompile</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> <a href="src/Plugins.html#flagRecompile" class="link">Source</a> <a href="#v:flagRecompile" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PluginRecompile" class="def">PluginRecompile</a> <a href="src/Plugins.html#PluginRecompile" class="link">Source</a> <a href="#t:PluginRecompile" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ForceRecompile" class="def">ForceRecompile</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NoForceRecompile" class="def">NoForceRecompile</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:MaybeRecompile" class="def">MaybeRecompile</a> <a href="Fingerprint.html#t:Fingerprint" title="Fingerprint">Fingerprint</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PluginRecompile">Instances</h4><details id="i:PluginRecompile" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PluginRecompile:Semigroup:1"></span> <a href="../base-4.13.0.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a></span> <a href="#t:PluginRecompile" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PluginRecompile:Semigroup:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plugins.html">Plugins</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> -&gt; <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> -&gt; <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> <a href="../base-4.13.0.0/src/GHC-Base.html#%3C%3E" class="link">Source</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-4.13.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> -&gt; <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> <a href="../base-4.13.0.0/src/GHC-Base.html#sconcat" class="link">Source</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../base-4.13.0.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> -&gt; <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> <a href="../base-4.13.0.0/src/GHC-Base.html#stimes" class="link">Source</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PluginRecompile:Monoid:2"></span> <a href="../base-4.13.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a></span> <a href="#t:PluginRecompile" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PluginRecompile:Monoid:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plugins.html">Plugins</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> <a href="../base-4.13.0.0/src/GHC-Base.html#mempty" class="link">Source</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> -&gt; <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> -&gt; <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> <a href="../base-4.13.0.0/src/GHC-Base.html#mappend" class="link">Source</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a>] -&gt; <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> <a href="../base-4.13.0.0/src/GHC-Base.html#mconcat" class="link">Source</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PluginRecompile:Outputable:3"></span> <a href="Outputable.html#t:Outputable" title="Outputable">Outputable</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a></span> <a href="#t:PluginRecompile" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PluginRecompile:Outputable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plugins.html">Plugins</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="src/Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p><p class="src"><a href="#v:pprPrec">pprPrec</a> :: <a href="../base-4.13.0.0/Prelude.html#t:Rational" title="Prelude">Rational</a> -&gt; <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> -&gt; <a href="Outputable.html#t:SDoc" title="Outputable">SDoc</a> <a href="src/Outputable.html#pprPrec" class="link">Source</a> <a href="#v:pprPrec" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:3" id="g:3"><h1>Plugin types</h1></a><a href="#g:4" id="g:4"><h2>Frontend plugins</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FrontendPlugin" class="def">FrontendPlugin</a> <a href="src/Plugins.html#FrontendPlugin" class="link">Source</a> <a href="#t:FrontendPlugin" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FrontendPlugin" class="def">FrontendPlugin</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:frontend" class="def">frontend</a> :: <a href="Plugins.html#t:FrontendPluginAction" title="Plugins">FrontendPluginAction</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:defaultFrontendPlugin" class="def">defaultFrontendPlugin</a> :: <a href="Plugins.html#t:FrontendPlugin" title="Plugins">FrontendPlugin</a> <a href="src/Plugins.html#defaultFrontendPlugin" class="link">Source</a> <a href="#v:defaultFrontendPlugin" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FrontendPluginAction" class="def">FrontendPluginAction</a> = [<a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a>] -&gt; [(<a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a>, <a href="../base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="DriverPhases.html#t:Phase" title="DriverPhases">Phase</a>)] -&gt; <a href="GhcMonad.html#t:Ghc" title="GhcMonad">Ghc</a> () <a href="src/Plugins.html#FrontendPluginAction" class="link">Source</a> <a href="#t:FrontendPluginAction" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h2>Core plugins</h2></a><div class="doc"><p>Core plugins allow plugins to register as a Core-to-Core pass.</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CorePlugin" class="def">CorePlugin</a> = [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; [<a href="CoreMonad.html#t:CoreToDo" title="CoreMonad">CoreToDo</a>] -&gt; <a href="CoreMonad.html#t:CoreM" title="CoreMonad">CoreM</a> [<a href="CoreMonad.html#t:CoreToDo" title="CoreMonad">CoreToDo</a>] <a href="src/Plugins.html#CorePlugin" class="link">Source</a> <a href="#t:CorePlugin" class="selflink">#</a></p></div><a href="#g:6" id="g:6"><h2>Typechecker plugins</h2></a><div class="doc"><p>Typechecker plugins allow plugins to provide evidence to the
 typechecker.</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TcPlugin" class="def">TcPlugin</a> = [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="../base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="TcRnTypes.html#t:TcPlugin" title="TcRnTypes">TcPlugin</a> <a href="src/Plugins.html#TcPlugin" class="link">Source</a> <a href="#t:TcPlugin" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h2>Source plugins</h2></a><div class="doc"><p>GHC offers a number of points where plugins can access and modify its
 front-end (&quot;source&quot;) representation. These include:</p><ul><li>access to the parser result with <code><a href="Plugins.html#v:parsedResultAction" title="Plugins">parsedResultAction</a></code></li><li>access to the renamed AST with <code><a href="Plugins.html#v:renamedResultAction" title="Plugins">renamedResultAction</a></code></li><li>access to the typechecked AST with <code><a href="Plugins.html#v:typeCheckResultAction" title="Plugins">typeCheckResultAction</a></code></li><li>access to the Template Haskell splices with <code><a href="Plugins.html#v:spliceRunAction" title="Plugins">spliceRunAction</a></code></li><li>access to loaded interface files with <code><a href="Plugins.html#v:interfaceLoadAction" title="Plugins">interfaceLoadAction</a></code></li></ul></div><div class="top"><p class="src"><a id="v:keepRenamedSource" class="def">keepRenamedSource</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; <a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a> -&gt; <a href="HsDecls.html#t:HsGroup" title="HsDecls">HsGroup</a> <a href="HsExtension.html#t:GhcRn" title="HsExtension">GhcRn</a> -&gt; <a href="TcRnTypes.html#t:TcM" title="TcRnTypes">TcM</a> (<a href="TcRnTypes.html#t:TcGblEnv" title="TcRnTypes">TcGblEnv</a>, <a href="HsDecls.html#t:HsGroup" title="HsDecls">HsGroup</a> <a href="HsExtension.html#t:GhcRn" title="HsExtension">GhcRn</a>) <a href="src/Plugins.html#keepRenamedSource" class="link">Source</a> <a href="#v:keepRenamedSource" class="selflink">#</a></p><div class="doc"><p>A renamer plugin which mades the renamed source available in
 a typechecker plugin.</p></div></div><a href="#g:8" id="g:8"><h1>Internal</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PluginWithArgs" class="def">PluginWithArgs</a> <a href="src/Plugins.html#PluginWithArgs" class="link">Source</a> <a href="#t:PluginWithArgs" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PluginWithArgs" class="def">PluginWithArgs</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:paPlugin" class="def">paPlugin</a> :: <a href="Plugins.html#t:Plugin" title="Plugins">Plugin</a></dfn><div class="doc"><p>the actual callable plugin</p></div></li><li><dfn class="src"><a id="v:paArguments" class="def">paArguments</a> :: [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>]</dfn><div class="doc"><p>command line arguments for the plugin</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:plugins" class="def">plugins</a> :: <a href="DynFlags.html#t:DynFlags" title="DynFlags">DynFlags</a> -&gt; [<a href="Plugins.html#t:PluginWithArgs" title="Plugins">PluginWithArgs</a>] <a href="src/Plugins.html#plugins" class="link">Source</a> <a href="#v:plugins" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:pluginRecompile-39-" class="def">pluginRecompile'</a> :: <a href="Plugins.html#t:PluginWithArgs" title="Plugins">PluginWithArgs</a> -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Plugins.html#t:PluginRecompile" title="Plugins">PluginRecompile</a> <a href="src/Plugins.html#pluginRecompile%27" class="link">Source</a> <a href="#v:pluginRecompile-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LoadedPlugin" class="def">LoadedPlugin</a> <a href="src/Plugins.html#LoadedPlugin" class="link">Source</a> <a href="#t:LoadedPlugin" class="selflink">#</a></p><div class="doc"><p>A plugin with its arguments. The result of loading the plugin.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LoadedPlugin" class="def">LoadedPlugin</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:lpPlugin" class="def">lpPlugin</a> :: <a href="Plugins.html#t:PluginWithArgs" title="Plugins">PluginWithArgs</a></dfn><div class="doc"><p>the actual plugin together with its commandline arguments</p></div></li><li><dfn class="src"><a id="v:lpModule" class="def">lpModule</a> :: <a href="HscTypes.html#t:ModIface" title="HscTypes">ModIface</a></dfn><div class="doc"><p>the module containing the plugin</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:lpModuleName" class="def">lpModuleName</a> :: <a href="Plugins.html#t:LoadedPlugin" title="Plugins">LoadedPlugin</a> -&gt; <a href="Module.html#t:ModuleName" title="Module">ModuleName</a> <a href="src/Plugins.html#lpModuleName" class="link">Source</a> <a href="#v:lpModuleName" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:StaticPlugin" class="def">StaticPlugin</a> <a href="src/Plugins.html#StaticPlugin" class="link">Source</a> <a href="#t:StaticPlugin" class="selflink">#</a></p><div class="doc"><p>A static plugin with its arguments. For registering compiled-in plugins
 through the GHC API.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:StaticPlugin" class="def">StaticPlugin</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:spPlugin" class="def">spPlugin</a> :: <a href="Plugins.html#t:PluginWithArgs" title="Plugins">PluginWithArgs</a></dfn><div class="doc"><p>the actual plugin together with its commandline arguments</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:mapPlugins" class="def">mapPlugins</a> :: <a href="DynFlags.html#t:DynFlags" title="DynFlags">DynFlags</a> -&gt; (<a href="Plugins.html#t:Plugin" title="Plugins">Plugin</a> -&gt; [<a href="Plugins.html#t:CommandLineOption" title="Plugins">CommandLineOption</a>] -&gt; a) -&gt; [a] <a href="src/Plugins.html#mapPlugins" class="link">Source</a> <a href="#v:mapPlugins" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withPlugins" class="def">withPlugins</a> :: <a href="../base-4.13.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="DynFlags.html#t:DynFlags" title="DynFlags">DynFlags</a> -&gt; PluginOperation m a -&gt; a -&gt; m a <a href="src/Plugins.html#withPlugins" class="link">Source</a> <a href="#v:withPlugins" class="selflink">#</a></p><div class="doc"><p>Perform an operation by using all of the plugins in turn.</p></div></div><div class="top"><p class="src"><a id="v:withPlugins_" class="def">withPlugins_</a> :: <a href="../base-4.13.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="DynFlags.html#t:DynFlags" title="DynFlags">DynFlags</a> -&gt; ConstPluginOperation m a -&gt; a -&gt; m () <a href="src/Plugins.html#withPlugins_" class="link">Source</a> <a href="#v:withPlugins_" class="selflink">#</a></p><div class="doc"><p>Perform a constant operation by using all of the plugins in turn.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>